@using PR_Top_Service_MVC.Controllers;
@model IEnumerable<PR_Top_Service_MVC.Models.Person>

@{
    ViewData["Title"] = "Index";
}
<div class="text-center">
    <h1 class="fw-bold">PERFIL</h1>
</div>

<div class="d-flex justify-content-center">
    @foreach (var item in Model)
    {
        <div class="card m-4" style="max-width: 800px;">
            <div class="card-body text-center">
                <img class="card-img-top mx-auto d-block" src="~/images/user.png" alt="User Image" style="width: 100px; height: 100px;">
                <br>
                <h5 class="card-title"><h5 style="font-weight: bold;">Nombre:</h5>@Html.DisplayFor(modelItem => item.Name)</h5>
                <h5 class="card-title"><h5 style="font-weight: bold;">Apellido Paterno:</h5>@Html.DisplayFor(modelItem => item.LastName)</h5>
                <h5 class="card-title"><h5 style="font-weight: bold;">Apellido Materno:</h5>@Html.DisplayFor(modelItem => item.SecondLastName)</h5>
                <h5 class="card-title"><h5 style="font-weight: bold;">Departamento:</h5>@Html.DisplayFor(modelItem => item.IdDepartmentNavigation.Name)</h5>
                <h5 class="card-title"><h5 style="font-weight: bold;">Correo electronico:</h5>@Html.DisplayFor(modelItem => item.User.Email)</h5>
            </div>

            <div class="card-footer">
                @if (User.IsInRole("Client"))
                {
                    <a class="btn btn-primary" asp-action="Edit" asp-controller="CustomerUser" asp-route-id=@UserConfig.userLogin.IdUser>Editar Perfil</a>
                }
                @if (User.IsInRole("Admin"))
                {
                    <a class="btn btn-primary" asp-action="Edit" asp-controller="PersonAdmin" asp-route-id=@UserConfig.userLogin.IdUser>Editar Perfil</a>
                }
                @if (User.IsInRole("Professional"))
                {
                    <a class="btn btn-primary" asp-action="Edit" asp-controller="ProfesionalUser" asp-route-id=@UserConfig.userLogin.IdUser>Editar</a>
                }
                <a class="btn btn-secondary" asp-action="Index" asp-controller="Home">Volver</a>
                <a class="btn btn-primary" asp-action="UpdatePassword" asp-controller="Users" asp-route-id=@UserConfig.userLogin.IdUser>Cambiar Contraseña</a>
            </div>
        </div>
    }
</div>
